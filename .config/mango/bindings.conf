# key name refer to `xev` or `wev` command output,
# mod keys name: super,ctrl,alt,shift,none

# Layouts
bind=ALT,z,toggle_scratchpad, # Go through scratchpads
bind=SUPER+SHIFT,I,restore_minimized, # Restore minimized
bind=SUPER+SHIFT,f,togglefakefullscreen, # Toggle Fake Fullscreen
bind=SUPER+SHIFT,g,toggleglobal, # Toggle Global
bind=SUPER,Tab,toggleoverview, # Toggle overview
bind=SUPER,a,togglemaxmizescreen, # Toggle maximize
bind=SUPER,f,togglefullscreen, # Toggle Fullscreen
bind=SUPER,i,minimized, # Put window in scratchpad
bind=SUPER,o,toggleoverlay, # Toggle Overlay
bind=Super,T,togglefloating, # Toggle Floating

# scroller layout
bind=SUPER,e,set_proportion,1.0 # Set default proportion (Scroller)
bind=SUPER,x,switch_proportion_preset, # Switch proportion preset (Scroller)

# switch layout
bind=SUPER,n,setlayout,tile # Set layout to tile
bind=SUPER,m,switch_layout, # Cycle between all layouts

######################################
#               Session              #
######################################

bind=SUPER+SHIFT,q,quit, # Quit Mango
bind=SUPER,w,killclient, # Kill Active Window

bind=Super+Alt,Q,spawn,loginctl lock-session # Lock
bind=Super+Ctrl,Q,spawn,sleep 0.1 && systemctl suspend # Suspend System
bind=Ctrl+Shift+Alt+Super,Delete,spawn, systemctl poweroff # Poweroff

# monitor switch
bind=alt+shift,Left,focusmon,left
bind=alt+shift,Right,focusmon,right
bind=SUPER+Alt,Left,tagmon,left
bind=SUPER+Alt,Right,tagmon,right

######################################
#              Terminal              #
######################################

bind=SUPER+SHIFT,Return,spawn_shell,alacritty # Launch Terminal
bind=SUPER,Return,spawn_shell,"$HOME/.config/hypr/scripts/open_tmux.sh" master # Launch Terminal with TMUX

######################################
#              Actions               #
######################################

# Switch Keyboard Layout
bind=SUPER,code:65,switch_keyboard_layout, # Switch Keyboard Layou (Super + Space)

# Widgets
bind=SUPER+CTRL,R,spawn_shell,pkill waybar; waybar # Restart Waybar
bind=SUPER+CTRL,R,reload_config, # Reload config

# Bindings
bind=Super,B,spawn_shell,"$HOME/.config/mango/scripts/bindings.sh" # Search bindings

# Clipboard
bind=Super+Alt,C,spawn, clearboard # Clear Clipboard
bind=Super,Period,spawn_shell,pkill fuzzel || cat "$HOME/.local/share/emojis" | fuzzel  --match-mode fzf --dmenu | awk '{print $1}' | wl-copy # Pick Emoji
bind=Super,V,spawn_shell,pkill fuzzel || cliphist list | fuzzel  --match-mode fzf --dmenu | cliphist decode | wl-copy # Clipboard History

# Screenshot
# FIX: Doesn't work
bind=none,Print,spawn, flameshot gui # Screenshot

# Color picker
bind=Super+Ctrl,C,spawn,hyprpicker -a # Pick Color

# Recording
bind=Ctrl+Alt,R,spawn_shell,~/.config/hypr/scripts/record-script.sh --fullscreen # Record Screen (no sound)
bind=Super+Alt,R,spawn_shell,~/.config/hypr/scripts/record-script.sh  # Record Region (no sound)
bind=Super+Shift+Alt,R,spawn_shell,~/.config/hypr/scripts/record-script.sh --fullscreen-sound # Record Screen (with sound)

# TODO: Port to mango
# Hyprland Scripts
# bind = Super, A, spawn, ~/.config/hypr/scripts/switcher.sh # Show all open windows
# bind = Super, M, spawn, ~/.config/hypr/scripts/cycler.sh   # Cycle same Applications

# User Scripts
bind=Super,Y,spawn_shell,yt-download -a # Download Youtube Audio
bind=Super+Shift+Ctrl,F,spawn_shell,~/.config/hypr/scripts/freetube.sh # Start Freetube and Invidious
bind=Super+Shift,D,spawn_shell,source $HOME/.config/secrets; rofi-lesspass # Launch LessPass
# TODO: Replace with sear
# bind=Super+Shift,Y,spawn_shell,search # Search using Leta
bind=Super,C,spawn_shell,rofi-tmux # Launch Tmux & Tmuxp
bind=Super,D,spawn_shell,rofipass -f  # Launch Pass
bind=Super,G,spawn_shell,bmark -r list | rofi -dmenu | xargs -I {} xdg-open '{}' # Launch Bookmark Manager
bind=Super,P,spawn_shell,~/.config/waybar/scripts/pomodoro-control.sh rofi # Pomodoro Control
bind=Super,R,spawn_shell,~/.config/mango/scripts/rofi.sh # Rofi Launcher

# bind = , E, spawn, ~/.config/hypr/scripts/open_tmux.sh files  # Open Ranger (extra)
# bind = , J, spawn, ~/.config/hypr/scripts/open_tmux.sh jn      # Open Journalling Helper (extra)
# bind = , M, spawn, ~/.config/hypr/scripts/open_tmux.sh cmus   # Open Cmus (extra)
# bind = , N, spawn, ~/.config/hypr/scripts/open_tmux.sh edit   # Open Neovim (extra)
# bind = , T, spawn, ~/.config/hypr/scripts/open_tmux.sh task   # Open Taskwarrior Tui (extra)

# bind = , R, spawn, ~/.local/bin/zscripts/rtsp -h        # Open RTSP Script (extra)
# bind = , U, spawn, ~/.local/bin/zscripts/uptimer call   # Uptimer (extra)

# Media/Audio
bind=Super+Shift,N,spawn,playerctl next # Next Track
bind=Super+Shift,B,spawn,playerctl previous # Previous Track
bind=Super+Shift,P,spawn, playerctl play-pause # Play/Pause Media
bind=Super+Shift,Period,spawn, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+ # Increase Volume
bind=Super+Shift,Comma,spawn, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%- # Decrease Volume

bind=Super+Shift+Alt,mouse:275,spawn,playerctl previous # Previous Track
bind=Super+Shift+Alt,mouse:276,spawn,playerctl next # Next Track

# Window Focus

## Arrows Motion
bind=SUPER,h,focusdir,left, # Focus Left
bind=SUPER,j,focusdir,down, # Focus Righ
bind=SUPER,k,focusdir,up, # Focus Up
bind=SUPER,l,focusdir,right, # Focus Downt

## Mouse
mousebind=SUPER,btn_left,moveresize,curmove
mousebind=NONE,btn_middle,togglemaxmizescreen,0
mousebind=SUPER,btn_right,moveresize,curresize
mousebind=NONE,btn_left,toggleoverview,-1
mousebind=NONE,btn_right,killclient,0

# Axis
axisbind=SUPER,UP,viewtoleft_have_client
axisbind=SUPER,DOWN,viewtoright_have_client

# Window Arrangement
bind=SUPER+SHIFT,h,exchange_client,left, # Move Window Up
bind=SUPER+SHIFT,j,exchange_client,down, # Move Window Right
bind=SUPER+SHIFT,k,exchange_client,up, # Move Window Left
bind=SUPER+SHIFT,l,exchange_client,right, # Move Window Down

# Move to Workspace
# tag: move client to the tag and focus it
# tagsilent: move client to the tag and not focus it
bind=SUPER+SHIFT,1,tagsilent,1,0
bind=SUPER+SHIFT,2,tagsilent,2,0
bind=SUPER+SHIFT,3,tagsilent,3,0
bind=SUPER+SHIFT,4,tagsilent,4,0
bind=SUPER+SHIFT,5,tagsilent,5,0
bind=SUPER+SHIFT,6,tagsilent,6,0
bind=SUPER+SHIFT,7,tagsilent,7,0
bind=SUPER+SHIFT,8,tagsilent,8,0
bind=SUPER+SHIFT,9,tagsilent,9,0

# Window Workspace Switch
bind=SUPER,1,view,1,0
bind=SUPER,2,view,2,0
bind=SUPER,3,view,3,0
bind=SUPER,4,view,4,0
bind=SUPER,5,view,5,0
bind=SUPER,6,view,6,0
bind=SUPER,7,view,7,0
bind=SUPER,8,view,8,0
bind=SUPER,9,view,9,0

bind=CTRL+SUPER,Left,tagtoleft,0
bind=CTRL+SUPER,Right,tagtoright,0
bind=CTRL,Left,viewtoleft_have_client,0
bind=CTRL,Right,viewtoright_have_client,0
bind=SUPER,Left,viewtoleft,0 # Switch to left tag
bind=SUPER,Right,viewtoright,0 # Switch to right tag

# Toggle Tags

bind=SUPER+ALT,1,toggletag,1,0
bind=SUPER+ALT,2,toggletag,2,0
bind=SUPER+ALT,3,toggletag,3,0
bind=SUPER+ALT,4,toggletag,4,0
bind=SUPER+ALT,5,toggletag,5,0
bind=SUPER+ALT,6,toggletag,6,0
bind=SUPER+ALT,7,toggletag,7,0
bind=SUPER+ALT,8,toggletag,8,0
bind=SUPER+ALT,9,toggletag,9,0
bind=SUPER+ALT,0,toggletag,0,0

# Window Ratio

## gaps
bind=SUPER+ALT+SHIFT,X,incgaps,1, # Increase gap size
bind=SUPER+ALT+SHIFT,Z,incgaps,-1, # Decrease gap size
bind=SUPER+ALT+SHIFT,R,togglegaps, # Toggle gaps

## movewin
bind=SUPER+SHIFT,Up,movewin,+0,-50
bind=SUPER+SHIFT,Down,movewin,+0,+50
bind=SUPER+SHIFT,Left,movewin,-50,+0
bind=SUPER+SHIFT,Right,movewin,+50,+0

## resizewin
bind=SUPER+ALT,Up,resizewin,+0,-50
bind=SUPER+ALT,Down,resizewin,+0,+50
bind=SUPER+ALT,Left,resizewin,-50,+0
bind=SUPER+ALT,Right,resizewin,+50,+0
